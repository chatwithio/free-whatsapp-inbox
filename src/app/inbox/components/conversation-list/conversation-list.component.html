<div class="conversation-list">
    @for (conversation of conversations; track conversation.id) {
    <div class="conversation-list__item" (click)="onSelectConversation(conversation)"
        [class.conversation-list__item--selected]="conversation.id === selectedConversationId"
        [attr.aria-label]="'ConversaciÃ³n con ' + conversation.phoneNumber" role="button" tabindex="0">

        <div class="conversation-list__header">
            <div class="conversation-list__phone">
                {{ conversation.userName || conversation.phoneNumber }}
            </div>

            @if (conversation.unreadCount > 0) {
            <span class="conversation-list__unread">
                {{ conversation.unreadCount }}
            </span>
            }
        </div>
        <div class="conversation-list__last-message"
            [ngClass]="{ 'conversation-list__last-message--unread': conversation.unreadCount > 0 }">
            {{ conversation.lastMessage }}
        </div>
    </div>
    }

    @if (conversations.length === 0) {
    <div class="conversation-list__empty">
        No hay conversaciones disponibles.
    </div>
    }
</div>